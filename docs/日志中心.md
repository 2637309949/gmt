### graylog

Graylog是一个开源且完整的日志聚合、管理工具，提到日志管理想必大家都会想到ELK平台，Graylog功能和ELK类似，但又比ELK要易用，相对的日志分析能力以及一些功能没有ELK强大。

```shell
sudo mkdir /etc/graylog.d/ /data/graylog -p
sudo touch /etc/graylog.d/docker-compose.yaml
sudo chmod -R 777 /data/graylog /etc/graylog.d
sudo cat > /etc/graylog.d/docker-compose.yaml <<EOF
version: '3'
services:
  graylog:
    image: graylog/graylog:3.1
    container_name: graylog
    networks:
    - graylog
    volumes:
    - /data/elastic:/usr/share/elasticsearch/data
    environment:
    - GRAYLOG_HTTP_EXTERNAL_URI=http://192.168.202.128:9000/
    - GRAYLOG_ROOT_TIMEZONE=Asia/Shanghai
    - GRAYLOG_WEB_ENDPOINT_URI=http://192.168.202.128:9000/:9000/api
    - GRAYLOG_ELASTICSEARCH_HOSTS=http://192.168.202.128:9200
    - GRAYLOG_MONGODB_URI=mongodb://graylog:graylog123abc123@192.168.202.128:27017/graylog
    - GRAYLOG_PASSWORD_SECRET=somepasswordpepper
    - GRAYLOG_ROOT_USERNAME=admin
    - GRAYLOG_ROOT_PASSWORD_SHA2=8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918
    ports:
    - 9000:9000
    - 1514:1514
    - 1514:1514/udp
    - 12201:12201
    - 12201:12201/udp
networks:
  graylog:
    driver: bridge
EOF
sudo docker-compose -f /etc/graylog.d/docker-compose.yaml up -d
```
### Install gvm

GVM provides an interface to manage Go versions.

```shell
bash < <(curl -s -S -L https://raw.fastgit.org/moovweb/gvm/master/binscripts/gvm-installer)
sed -i "s/github.com\/golang\/go/hub.fastgit.org\/golang\/go/g" `find ~/.gvm -name "*" | xargs grep "*" -rl`
```

### Install golang

microv2在最新版本的golang环境中编译运行会有兼容报错问题，所以这里使用go1.14.11。

```shell
cp -rp ~/.gvm/scripts/env/use ~/.gvm/scripts/use
chmod 775 ~/.gvm/scripts/use
gvm install go1.13.1 -B
gvm use go1.13.1
gvm install go1.14.11
gvm use go1.14.11 --default
go env -w GO111MODULE=on
go env -w GOPROXY=https://goproxy.cn,direct
```

### Install docker

```shell
sudo pacman -S docker
sudo systemctl start docker 
sudo systemctl enable docker
sudo groupadd docker
sudo gpasswd -a ${USER} docker
sudo systemctl restart docker
sudo pacman -S docker-compose
sudo systemctl status docker
pkill X
```


验证环境

```shell
$ gvm list

gvm gos (installed)

   go1.13.1
=> go1.14.11
   system
```

```shell
$ go env
go env
GO111MODULE="on"
GOARCH="amd64"
GOBIN=""
GOCACHE="/home/double/.cache/go-build"
GOENV="/home/double/.config/go/env"
GOEXE=""
GOFLAGS=""
GOHOSTARCH="amd64"
GOHOSTOS="linux"
GOINSECURE=""
GONOPROXY=""
GONOSUMDB=""
GOOS="linux"
GOPATH="/home/double/.gvm/pkgsets/go1.14.11/global"
GOPRIVATE=""
GOPROXY="https://goproxy.cn,direct"
GOROOT="/home/double/.gvm/gos/go1.14.11"
GOSUMDB="sum.golang.org"
GOTMPDIR=""
GOTOOLDIR="/home/double/.gvm/gos/go1.14.11/pkg/tool/linux_amd64"
GCCGO="gccgo"
AR="ar"
CC="gcc"
CXX="g++"
CGO_ENABLED="1"
GOMOD="/dev/null"
CGO_CFLAGS="-g -O2"
CGO_CPPFLAGS=""
CGO_CXXFLAGS="-g -O2"
CGO_FFLAGS="-g -O2"
CGO_LDFLAGS="-g -O2"
PKG_CONFIG="pkg-config"
GOGCCFLAGS="-fPIC -m64 -pthread -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build928988799=/tmp/go-build -gno-record-gcc-switches"
```

```shell
$ sudo docker info
Client:
 Context:    default
 Debug Mode: false
 Plugins:
  buildx: Build with BuildKit (Docker Inc., v0.6.1-docker)

Server:
 Containers: 0
  Running: 0
  Paused: 0
  Stopped: 0
 Images: 0
 Server Version: 20.10.8
 Storage Driver: overlay2
  Backing Filesystem: extfs
  Supports d_type: true
  Native Overlay Diff: false
  userxattr: false
 Logging Driver: json-file
 Cgroup Driver: systemd
 Cgroup Version: 2
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog
 Swarm: inactive
 Runtimes: runc io.containerd.runc.v2 io.containerd.runtime.v1.linux
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 72cec4be58a9eb6b2910f5d10f1c01ca47d231c0.m
 runc version: v1.0.2-0-g52b36a2d
 init version: de40ad0
 Security Options:
  apparmor
  seccomp
   Profile: default
  cgroupns
 Kernel Version: 5.13.19-2-MANJARO
 Operating System: Manjaro Linux
 OSType: linux
 Architecture: x86_64
 CPUs: 8
 Total Memory: 2.849GiB
 Name: double
 ID: PFVQ:4TMP:WYTM:D2DR:V3R3:OCJ5:PFCO:G47A:RGWJ:PSOD:OPGR:BUHY
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 Registry: https://index.docker.io/v1/
 Labels:
 Experimental: false
 Insecure Registries:
  127.0.0.0/8
 Live Restore Enabled: false
```
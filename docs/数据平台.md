### Install dc

```shell
sudo mkdir /etc/mongo.d /etc/redis.d /etc/mysql.d/init-sql /data/mysql /data/redis /data/mongo/db /data/mongo/log -p
sudo touch /etc/mysql.d/docker-compose.yaml /etc/mongo.d/docker-compose.yaml /etc/redis.d/docker-compose.yaml
sudo chmod -R 777 /data/mysql /etc/mysql.d /data/mongo /etc/mongo.d /data/redis /etc/redis.d
sudo wget https://raw.fastgit.org/mmh-xu/docker-compose/master/Yearning/docker/etc/mysql/my.cnf -o /etc/mysql.d/
sudo wget https://raw.fastgit.org/mmh-xu/docker-compose/master/Yearning/init-sql/install.sql -o /etc/mysql.d/init-sql/
sudo cat > /etc/mysql.d/docker-compose.yaml <<EOF
version: '3'
services:
  mongo:
    image: mongo:4.2
    ports:
      - 27017:27017
    restart: always
    tty: true
    environment:
      MONGO_INITDB_ROOT_USERNAME: admin
      MONGO_INITDB_ROOT_PASSWORD: admin123abc123
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - /data/mongo/db:/data/db
      - /data/mongo/log:/data/log
    command:
      - /bin/bash
      - -c
      - mongod --port 27017 --bind_ip_all --auth --dbpath "/data/db"   --logpath "/data/log/db.log" 
    networks:
      - dc
  mongo-express:
    links:
      - mongo
    image: mongo-express
    restart: always
    ports:
      - 27018:8081
    environment:
      ME_CONFIG_OPTIONS_EDITORTHEME: 3024-night
      ME_CONFIG_BASICAUTH_USERNAME: admin
      ME_CONFIG_BASICAUTH_PASSWORD: admin123abc123
      ME_CONFIG_MONGODB_ADMINUSERNAME: admin
      ME_CONFIG_MONGODB_ADMINPASSWORD: admin123abc123
    depends_on: 
      - mongo
    networks:
      - dc
  mysql:
    image: mysql:5.7
    volumes:
      - /etc/mysql.d/:/etc/mysql/conf.d/
      - /etc/mysql.d/init-sql/:/docker-entrypoint-initdb.d/
      - /data/mysql:/var/lib/mysql/
    restart: always
    ports:
      - 3306:3306
    environment:
      MYSQL_ROOT_PASSWORD: gmt
      MYSQL_DATABASE: yearning
      MYSQL_USER: gmt
      MYSQL_PASSWORD: gmt
  soar-web:
    image: becivells/soar-web
    container_name: soar-web
    restart: always
    ports:
      - 5077:5077
    networks:
      - dc
  yearning:
    image: registry.cn-hangzhou.aliyuncs.com/cookie/yearning:latest
    container_name: yearning
    restart: always
    depends_on: 
      - mysql
    ports:
      - 5080:8000
    environment:
      HOST: localhost
      MYSQL_PASSWORD: gmt
      MYSQL_USER: gmt
      MYSQL_ADDR: mysql
    networks:
      - dc
networks:
  dc:
    driver: bridge
EOF
cp /etc/mysql.d/docker-compose.yaml /etc/mongo.d/docker-compose.yaml
cp /etc/mysql.d/docker-compose.yaml /etc/redis.d/docker-compose.yaml
docker-compose -f /etc/mysql.d/docker-compose.yaml up -d
```



https://blog.csdn.net/weixin_50236329/article/details/109771983